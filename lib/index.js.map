{"version":3,"sources":["webpack://ReactAriaAccordion/webpack/universalModuleDefinition","webpack://ReactAriaAccordion/webpack/bootstrap","webpack://ReactAriaAccordion/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\",\"umd\":\"react\"}","webpack://ReactAriaAccordion/./src/Accordion/keys.ts","webpack://ReactAriaAccordion/./src/Accordion/utils.ts","webpack://ReactAriaAccordion/./src/Accordion/Accordion.tsx","webpack://ReactAriaAccordion/./src/Accordion/Section.tsx","webpack://ReactAriaAccordion/./src/Accordion/Header.tsx","webpack://ReactAriaAccordion/./src/Accordion/Panel.tsx"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ENTER","ARROW_DOWN","ARROW_UP","SPACE","HOME","END","callAll","fns","_i","arguments","length","args","forEach","fn","apply","noop","Accordion_a","external_root_React_commonjs2_react_commonjs_react_amd_react_umd_react_","AccordionProvider","Provider","AccordionConsumer","Consumer","Accordion_accordionId","src_Accordion_Accordion","_super","Accordion","_this","state","id","sections","domHeaders","expandAllSections","_a","expand","collapseAllSections","collapse","addSection","sectionId","setState","concat","removeSection","filter","handleHeaderKeyDown","event","domHeader","currentTarget","preventDefault","currentIndex","indexOf","focusNextHeader","focusPreviousHeader","focusFirstHeader","focusLastHeader","__extends","componentDidMount","setDomHeaders","componentDidUpdate","render","external_root_React_commonjs2_react_commonjs_react_amd_react_umd_react_default","a","createElement","accordionId","disableRegions","onHeaderKeyDown","props","children","elementList","document","querySelectorAll","slice","focus","wrapHeaderNavigation","Section_a","SectionProvider","SectionConsumer","Section_sectionId","Section_InternalSection","InternalSection","expanded","defaultExpanded","expandSection","getExpanded","handleToggle","collapseSection","nextExpanded","onToggle","Section_extends","componentWillUnmount","getSectionProps","__assign","data-accordion-id-type","defaultProps","Accordion_Section","Header","headingLevel","disabled","sectionOnToggle","getToggleProps","onClick","onKeyDown","rest","__rest","Header_assign","aria-controls","aria-disabled","undefined","aria-expanded","getHeadingProps","aria-level","role","getElementToggleProps","onKeyPress","tabIndex","includes","isClickKey","getButtonToggleProps","Accordion_Header","Accordion_Panel","getPanelProps","Panel_assign","aria-labelledby","aria-hidden","hidden"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactAriaAccordion\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactAriaAccordion\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","/* istanbul ignore file */\nexport const ENTER = 'Enter';\nexport const ARROW_DOWN = 'ArrowDown';\nexport const ARROW_UP = 'ArrowUp';\nexport const SPACE = ' ';\nexport const HOME = 'Home';\nexport const END = 'End';\n","/* istanbul ignore file */\n// tslint:disable-next-line ban-types\nexport const callAll = (...fns: Array<Function | undefined>) => (\n  ...args: any[]\n) => fns.forEach(fn => fn && fn(...args));\n\n// tslint:disable-next-line no-empty\nexport const noop = () => {};\n","import React, {\n  Component,\n  createContext,\n  KeyboardEvent,\n  ReactNode,\n} from 'react';\n\nimport { KeyboardEventListener } from './event-listeners';\nimport { ARROW_DOWN, ARROW_UP, END, HOME } from './keys';\nimport { noop } from './utils';\n\ntype Context = {\n  accordionId: string;\n  disableRegions: boolean;\n  onHeaderKeyDown: KeyboardEventListener;\n  addSection: (\n    sectionId: string,\n    expandSection: () => void,\n    collapseSection: () => void,\n  ) => void;\n  removeSection: (sectionId: string) => void;\n};\n\nconst { Provider: AccordionProvider, Consumer } = createContext<Context>({\n  accordionId: '',\n  disableRegions: false,\n  onHeaderKeyDown: noop,\n  addSection: noop,\n  removeSection: noop,\n});\n\nexport const AccordionConsumer = Consumer;\n\ntype RenderProps = {\n  expandAllSections: () => void;\n  collapseAllSections: () => void;\n};\n\ntype Props = {\n  wrapHeaderNavigation?: boolean;\n  children: (renderProps: RenderProps) => ReactNode;\n};\n\ntype State = {\n  id: string;\n  sections: Array<{\n    id: string;\n    expand: () => void;\n    collapse: () => void;\n  }>;\n};\n\nlet accordionId = 1;\n\nclass Accordion extends Component<Props, State> {\n  public state: State = {\n    id: `accordion-${accordionId++}`,\n    sections: [],\n  };\n\n  private domHeaders: HTMLElement[] = [];\n\n  public componentDidMount() {\n    this.setDomHeaders();\n  }\n\n  public componentDidUpdate() {\n    this.setDomHeaders();\n  }\n\n  public render() {\n    return (\n      <AccordionProvider\n        value={{\n          accordionId: this.state.id,\n          disableRegions: this.state.sections.length > 6,\n          onHeaderKeyDown: this.handleHeaderKeyDown,\n          addSection: this.addSection,\n          removeSection: this.removeSection,\n        }}\n      >\n        {this.props.children({\n          collapseAllSections: this.collapseAllSections,\n          expandAllSections: this.expandAllSections,\n        })}\n      </AccordionProvider>\n    );\n  }\n\n  private expandAllSections = () => {\n    this.state.sections.forEach(({ expand }) => expand());\n  };\n\n  private collapseAllSections = () => {\n    this.state.sections.forEach(({ collapse }) => collapse());\n  };\n\n  private addSection = (\n    sectionId: string,\n    expand: () => void,\n    collapse: () => void,\n  ) => {\n    this.setState(({ sections }) => ({\n      sections: [...sections, { id: sectionId, expand, collapse }],\n    }));\n  };\n\n  private removeSection = (sectionId: string) => {\n    this.setState(({ sections }) => ({\n      sections: sections.filter(({ id }) => id !== sectionId),\n    }));\n  };\n\n  private setDomHeaders() {\n    const elementList = document.querySelectorAll(\n      `[data-accordion-id-type=\"${this.state.id}-header\"]`,\n    ) as NodeListOf<HTMLElement>;\n\n    this.domHeaders = [].slice.call(elementList);\n  }\n\n  private focusFirstHeader() {\n    return this.domHeaders[0].focus();\n  }\n\n  private focusLastHeader() {\n    return this.domHeaders[this.domHeaders.length - 1].focus();\n  }\n\n  private focusNextHeader(currentIndex: number) {\n    if (currentIndex === this.domHeaders.length - 1) {\n      if (this.props.wrapHeaderNavigation) {\n        this.focusFirstHeader();\n      }\n\n      return;\n    }\n\n    this.domHeaders[currentIndex + 1].focus();\n  }\n\n  private focusPreviousHeader(currentIndex: number) {\n    if (currentIndex === 0) {\n      if (this.props.wrapHeaderNavigation) {\n        this.focusLastHeader();\n      }\n\n      return;\n    }\n\n    this.domHeaders[currentIndex - 1].focus();\n  }\n\n  private handleHeaderKeyDown = (event: KeyboardEvent<HTMLElement>) => {\n    const { key, currentTarget: domHeader } = event;\n\n    switch (key) {\n      case ARROW_DOWN: {\n        // Prevents ARROW_DOWN from scrolling the page\n        event.preventDefault();\n        const currentIndex = this.domHeaders.indexOf(domHeader);\n        this.focusNextHeader(currentIndex);\n        break;\n      }\n      case ARROW_UP: {\n        // Prevents ARROW_UP from scrolling the page\n        event.preventDefault();\n        const currentIndex = this.domHeaders.indexOf(domHeader);\n        this.focusPreviousHeader(currentIndex);\n        break;\n      }\n      case HOME: {\n        this.focusFirstHeader();\n        break;\n      }\n      case END: {\n        this.focusLastHeader();\n        break;\n      }\n    }\n  };\n}\n\nexport default Accordion;\n","import React, { Component, createContext, ReactNode } from 'react';\n\nimport { AccordionConsumer } from './Accordion';\nimport { noop } from './utils';\n\ntype Context = {\n  sectionId: string;\n  expanded: boolean;\n  onToggle: (nextExpanded: boolean) => void;\n};\n\nconst { Provider: SectionProvider, Consumer } = createContext<Context>({\n  sectionId: '',\n  expanded: false,\n  onToggle: noop,\n});\n\nexport const SectionConsumer = Consumer;\n\ntype RenderProps = {\n  getSectionProps: (\n    props?: { [key: string]: any },\n  ) => {\n    'data-accordion-id-type': string;\n  };\n  expanded: boolean;\n};\n\ntype Props = {\n  defaultExpanded?: boolean;\n  expanded?: boolean;\n  onToggle?: (nextExpanded: boolean) => void;\n  children: (renderProps: RenderProps) => ReactNode;\n};\n\nconst Section = ({ defaultExpanded, expanded, onToggle, children }: Props) => (\n  <AccordionConsumer>\n    {({ accordionId, addSection, removeSection }) => (\n      <InternalSection\n        accordionId={accordionId}\n        onToggle={onToggle}\n        defaultExpanded={defaultExpanded}\n        addSection={addSection}\n        removeSection={removeSection}\n        expanded={expanded}\n        children={children}\n      />\n    )}\n  </AccordionConsumer>\n);\n\ntype InternalSectionProps = Props & {\n  accordionId: string;\n  addSection: (\n    sectionId: string,\n    expandSection: () => void,\n    collapseSection: () => void,\n  ) => void;\n  removeSection: (sectionId: string) => void;\n};\n\ntype InternalSectionState = {\n  id: string;\n  expanded: boolean;\n};\n\nlet sectionId = 1;\n\nclass InternalSection extends Component<\n  InternalSectionProps,\n  InternalSectionState\n> {\n  public static defaultProps = {\n    defaultExpanded: false,\n  };\n\n  public state = {\n    id: `section-${sectionId++}`,\n    expanded: this.props.defaultExpanded as boolean,\n  };\n\n  public componentDidMount() {\n    this.props.addSection(\n      this.state.id,\n      this.expandSection,\n      this.collapseSection,\n    );\n  }\n\n  public componentWillUnmount() {\n    this.props.removeSection(this.state.id);\n  }\n\n  public render() {\n    const { accordionId } = this.props;\n    const expanded = this.getExpanded();\n\n    return (\n      <SectionProvider\n        value={{\n          sectionId: this.state.id,\n          expanded,\n          onToggle: this.handleToggle,\n        }}\n      >\n        {this.props.children({\n          getSectionProps: (props = {}) => {\n            return {\n              ...props,\n              'data-accordion-id-type': `${accordionId}-section`,\n            };\n          },\n          expanded,\n        })}\n      </SectionProvider>\n    );\n  }\n\n  private getExpanded() {\n    const { expanded } = this.props;\n\n    return expanded != null ? expanded : this.state.expanded;\n  }\n\n  private expandSection = () => {\n    if (!this.getExpanded()) {\n      this.handleToggle(true);\n    }\n  };\n\n  private collapseSection = () => {\n    if (this.getExpanded()) {\n      this.handleToggle(false);\n    }\n  };\n\n  private handleToggle = (nextExpanded: boolean) => {\n    const { onToggle } = this.props;\n\n    if (onToggle) {\n      onToggle(nextExpanded);\n    }\n\n    if (this.props.expanded == null) {\n      this.setState({\n        expanded: nextExpanded,\n      });\n    }\n  };\n}\n\nexport default Section;\n","import React, { KeyboardEvent, ReactNode, SFC } from 'react';\n\nimport { AccordionConsumer } from './Accordion';\nimport { EventListener, KeyboardEventListener } from './event-listeners';\nimport { ENTER, SPACE } from './keys';\nimport { SectionConsumer } from './Section';\nimport { callAll } from './utils';\n\ntype HeadingProps = {\n  'aria-level': number;\n  role: 'heading';\n};\n\ntype ToggleProps = {\n  id: string;\n  'aria-controls': string;\n  'aria-disabled': boolean | undefined;\n  'aria-expanded': boolean;\n  'data-accordion-id-type': string;\n  onClick: EventListener;\n  onKeyDown: KeyboardEventListener;\n};\n\ntype ElementToggleProps = ToggleProps & {\n  onKeyPress: KeyboardEventListener;\n  role: 'button';\n  tabIndex: 0;\n};\ntype ButtonToggleProps = ToggleProps & {\n  disabled?: boolean;\n};\n\ntype RenderProps = {\n  expanded: boolean;\n  getHeadingProps: (props?: { [key: string]: any }) => HeadingProps;\n  getElementToggleProps: (props?: { [key: string]: any }) => ElementToggleProps;\n  getButtonToggleProps: (props?: { [key: string]: any }) => ButtonToggleProps;\n};\n\ntype Props = {\n  disabled?: boolean;\n  headingLevel?: number;\n  children: (renderProps: RenderProps) => ReactNode;\n};\n\nconst isClickKey = (key: string) => [ENTER, SPACE].includes(key);\n\nconst Header: SFC<Props> = ({ children, headingLevel, disabled }) => (\n  <AccordionConsumer>\n    {({ accordionId, onHeaderKeyDown }) => (\n      <SectionConsumer>\n        {({ sectionId, expanded, onToggle: sectionOnToggle }) => {\n          const onToggle = () => {\n            if (disabled) {\n              return;\n            }\n\n            sectionOnToggle(!expanded);\n          };\n\n          const getToggleProps = (props: { [key: string]: any }) => {\n            const { onClick, onKeyDown, ...rest } = props;\n\n            return {\n              ...rest,\n              id: `${sectionId}-header`,\n              'aria-controls': `${sectionId}-panel`,\n              'aria-disabled': disabled == null ? undefined : disabled,\n              'aria-expanded': expanded,\n              'data-accordion-id-type': `${accordionId}-header`,\n              onClick: callAll(onClick, onToggle),\n              onKeyDown: callAll(onKeyDown, onHeaderKeyDown),\n            };\n          };\n\n          return children({\n            expanded,\n            getHeadingProps: (props = {}) => ({\n              ...props,\n              'aria-level': headingLevel as number,\n              role: 'heading',\n            }),\n            getElementToggleProps: (props = {}) => {\n              const { onKeyPress, ...rest } = props;\n\n              return {\n                ...getToggleProps(rest),\n                tabIndex: 0,\n                role: 'button',\n                onKeyPress: callAll(\n                  onKeyPress,\n                  (event: KeyboardEvent<HTMLElement>) => {\n                    if (!isClickKey(event.key)) {\n                      return;\n                    }\n\n                    onToggle();\n                    // Prevents SPACE from scrolling the page\n                    event.preventDefault();\n                  },\n                ),\n              };\n            },\n            getButtonToggleProps: (props = {}) => {\n              return {\n                ...getToggleProps(props),\n                disabled: disabled == null ? undefined : disabled,\n              };\n            },\n          });\n        }}\n      </SectionConsumer>\n    )}\n  </AccordionConsumer>\n);\n\nHeader.defaultProps = {\n  headingLevel: 1,\n};\n\nexport default Header;\n","import React, { ReactNode } from 'react';\n\nimport { AccordionConsumer } from './Accordion';\nimport { SectionConsumer } from './Section';\n\ntype PanelProps = {\n  id: string;\n  role: 'region' | undefined;\n  'aria-labelledby': string;\n  'aria-hidden': true | undefined;\n  hidden: true | undefined;\n};\n\ntype RenderProps = {\n  expanded: boolean;\n  getPanelProps: (props?: { [key: string]: any }) => PanelProps;\n};\n\ntype Props = {\n  children: (renderProps: RenderProps) => ReactNode;\n};\n\nconst Panel = ({ children }: Props) => (\n  <AccordionConsumer>\n    {({ disableRegions }) => (\n      <SectionConsumer>\n        {({ sectionId, expanded }) =>\n          children({\n            expanded,\n            getPanelProps: (props = {}) => ({\n              ...props,\n              id: `${sectionId}-panel`,\n              role: disableRegions ? undefined : 'region',\n              'aria-labelledby': `${sectionId}-header`,\n              'aria-hidden': expanded ? undefined : true,\n              hidden: expanded ? undefined : true,\n            }),\n          })\n        }\n      </SectionConsumer>\n    )}\n  </AccordionConsumer>\n);\n\nexport default Panel;\n"],"sourceRoot":""}